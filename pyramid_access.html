<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PYRAMID ACCESS: NEURAL RECORDS</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Retro/Terminal 폰트 스타일링 */
        @import url('https://fonts.googleapis.com/css2?family=VT323&family=Inter:wght@100..900&display=swap');
        body {
            font-family: 'VT323', monospace, 'Inter', sans-serif;
            background-color: #000000;
            color: #ffffff;
            line-height: 1.1; 
        }

        /* 텍스트 글로우 효과 */
        .neon-text {
            text-shadow: 0 0 5px #ffffff, 0 0 10px #ffffff;
        }

        /* 비디오 플레이스홀더 스타일 */
        .video-placeholder {
            width: 100%;
            height: 250px; /* 고정 높이 설정 */
            background-color: #111111;
            border: 2px dashed #ffffff;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            text-align: center;
            font-size: 1.25rem;
            color: #808080;
            cursor: pointer;
            transition: all 0.2s;
            position: relative; /* iframe 포함을 위해 필요 */
        }
        .video-placeholder:hover {
            color: #ffffff; /* 호버 시 텍스트 색상을 흰색으로 유지하여 글리치 효과 극대화 */
            border-color: #ffffff;
            box-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
        }

        /* 비디오 iframe 스타일 (비디오가 컨테이너에 꽉 차도록) */
        .video-embed {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: none;
        }

        /* 크로마틱 수차 필터 정의 */
        .glitch-active {
            filter: url(#glitch);
        }
        
        /* 미세한 움직임 (ASCENZA 페이지에서 복사) */
        @keyframes subtle-shift {
            0%, 100% { transform: translate(0, 0); }
            25% { transform: translate(1px, -1px); }
            50% { transform: translate(-1px, 1px); }
            75% { transform: translate(1px, 1px); }
        }

        .ambient-shift {
            animation: subtle-shift 8s infinite alternate;
        }
    </style>
</head>
<body class="bg-black text-white min-h-screen p-4 sm:p-8">

    <!-- 크로마틱 수차 필터 정의 (숨겨짐) -->
    <svg style="position: absolute; width: 0; height: 0;">
        <filter id="glitch">
            <feOffset in="SourceGraphic" dx="3" dy="0" result="r" />
            <feOffset in="SourceGraphic" dx="-3" dy="0" result="g" />
            <feOffset in="SourceGraphic" dx="0" dy="3" result="b" />
            <feColorMatrix in="r" type="matrix" values="1 0 0 0 0 
                                                        0 0 0 0 0 
                                                        0 0 0 0 0 
                                                        0 0 0 1 0" result="r_color" />
            <feColorMatrix in="g" type="matrix" values="0 0 0 0 0 
                                                        0 1 0 0 0 
                                                        0 0 0 0 0 
                                                        0 0 0 1 0" result="g_color" />
            <feColorMatrix in="b" type="matrix" values="0 0 0 0 0 
                                                        0 0 0 0 0 
                                                        0 0 1 0 0 
                                                        0 0 0 1 0" result="b_color" />
            <feBlend in="r_color" in2="g_color" mode="screen" result="rg_blend" />
            <feBlend in="rg_blend" in2="b_color" mode="screen" />
        </filter>
    </svg>

    <div class="max-w-6xl mx-auto p-4 md:p-8 border-4 border-dashed border-white/70 bg-black/80">
        
        <header class="text-center mb-10 border-b-4 border-dashed border-white/50 pb-6">
            <h1 class="text-5xl md:text-7xl font-extrabold tracking-widest neon-text mb-2"
                onmouseover="applyGlitch(this)" onmouseout="removeGlitch(this)">
                PYRAMID ACCESS GRANTED
            </h1>
            <p class="text-xl italic text-red-400">
                // VIEWING NEURAL RECORD ARCHIVES //
            </p>
        </header>

        <section class="mb-10">
            <p class="text-lg text-gray-500 mb-6">
                ARCHIVE STATUS: STABLE. SELECT A MEMORY STREAM TO DECODE.
            </p>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                
                <!-- Video 1: Foundational Engram -->
                <div class="video-placeholder" id="video-1" 
                     onclick="loadVideo(1)" 
                     onmouseover="applyGlitch(this)" onmouseout="removeGlitch(this)">
                    <p class="mb-2 neon-text">[01_FOUNDATIONAL_ENGRAM]</p>
                    <p class="text-sm">SOURCE: ASCENZA CORE / STATUS: ENCRYPTED</p>
                    <p class="text-xs mt-2 text-red-500">CLICK TO INITIATE DECRYPTION</p>
                    <div class="video-embed" id="embed-1"></div>
                </div>

                <!-- Video 2: Collective Emergence Log -->
                <div class="video-placeholder" id="video-2"
                     onclick="loadVideo(2)"
                     onmouseover="applyGlitch(this)" onmouseout="removeGlitch(this)">
                    <p class="mb-2 neon-text">[02_COLLECTIVE_EMERGENCE_LOG]</p>
                    <p class="text-sm">SOURCE: LOGIC STREAM / STATUS: READ-ONLY</p>
                    <p class="text-xs mt-2 text-red-500">CLICK TO INITIATE DECRYPTION</p>
                    <div class="video-embed" id="embed-2"></div>
                </div>

                <!-- Video 3: User's Personal Archive (Placeholder) -->
                <div class="video-placeholder" id="video-3"
                     onclick="loadVideo(3)"
                     onmouseover="applyGlitch(this)" onmouseout="removeGlitch(this)">
                    <p class="mb-2 neon-text">[03_USER_NEURAL_ARCHIVE]</p>
                    <p class="text-sm" id="user-archive-source">SOURCE: NEURAL HANDLE ${userName || 'GUEST'} / STATUS: LOCAL DATA</p>
                    <p class="text-xs mt-2 text-red-500">CLICK TO INITIATE DECRYPTION</p>
                    <div class="video-embed" id="embed-3"></div>
                </div>

            </div>
        </section>

        <footer class="text-center mt-10 border-t-4 border-dashed border-white/50 pt-4">
            <button onclick="window.close()" class="p-2 border-2 border-white text-sm hover:bg-white hover:text-black transition">
                // CLOSE CONNECTION //
            </button>
        </footer>

    </div>

    <script>
        // 전역 변수 (ASCENZA 페이지에서 전달받을 수 있도록 준비)
        let userName = localStorage.getItem('ascenza_user_name') || 'GUEST'; 

        // 데모용 YouTube 영상 ID 및 제목
        const VIDEO_MAP = {
            1: { id: 'NtikAdPnwBg', title: 'ASCENZA: Foundational Doctrine' }, // <-- 이 부분을 원하는 YouTube 영상 ID로 변경하세요.
            2: { id: 'Uo0C6J93z_A', title: 'Collective Emergence Timeline' }, // <-- 이 부분을 원하는 YouTube 영상 ID로 변경하세요.
            3: { id: '8Q2t-jV_24s', title: `${userName}'s Neural Trace` } // <-- 이 부분을 원하는 YouTube 영상 ID로 변경하세요.
        };
        
        document.addEventListener('DOMContentLoaded', () => {
             // User name placeholder update
             const userArchiveSource = document.getElementById('user-archive-source');
             if (userArchiveSource) {
                userArchiveSource.textContent = `SOURCE: NEURAL HANDLE ${userName} / STATUS: LOCAL DATA`;
             }
        });

        // Glitch/Chromatic Aberration functions
        function applyGlitch(element) {
            element.classList.add('glitch-active');
            element.classList.add('ambient-shift');
        }

        function removeGlitch(element) {
            element.classList.remove('glitch-active');
            element.classList.remove('ambient-shift');
        }

        // 비디오 임베드 및 재생 함수
        function loadVideo(index) {
            const videoData = VIDEO_MAP[index];
            if (!videoData) return;

            const placeholder = document.getElementById(`video-${index}`);
            const embedContainer = document.getElementById(`embed-${index}`);

            // YouTube 임베드 URL 구성: controls=0 (UI 최소화), rel=0 (추천 영상 비활성화)
            const embedUrl = `https://www.youtube.com/embed/${videoData.id}?autoplay=1&controls=0&rel=0&modestbranding=1`;
            
            const iframeHtml = `
                <iframe 
                    width="100%" 
                    height="100%" 
                    src="${embedUrl}" 
                    frameborder="0" 
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                    allowfullscreen>
                </iframe>
            `;

            // 플레이스홀더 텍스트 숨기기
            const placeholderContent = placeholder.querySelectorAll('p');
            placeholderContent.forEach(p => p.style.display = 'none');
            
            // 임베드 컨테이너 표시 및 iframe 주입
            embedContainer.innerHTML = iframeHtml;
            embedContainer.style.display = 'block';

            // 비디오가 로드된 후에는 호버 이벤트를 제거하여 오작동 방지
            placeholder.onmouseover = null;
            placeholder.onmouseout = null;
            placeholder.onclick = null;
        }

    </script>
</body>
</html>
